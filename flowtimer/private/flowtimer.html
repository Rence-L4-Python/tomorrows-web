<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Flowtimer</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto Mono">
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    </head>
    <body>
        <aside>
            <div class="sidebar">
                <div class="sidebar-item lowopac">
                    <img src="media/flowtimer-icon.svg" alt="Flowtimer">
                </div>
                <div class="sidebar-middle">
                    <div class="sidebar-item tooltip">
                    <a href="/flowtimer" class="sidebar-link">
                        <svg>
                            <path d="M10.0001 31.6667H15.0001V21.6667H25.0001V31.6667H30.0001V16.6667L20.0001 9.16667L10.0001 16.6667V31.6667ZM6.66675 35V15L20.0001 5L33.3334 15V35H21.6667V25H18.3334V35H6.66675Z"/>
                        </svg>
                        <span class="tooltiptext">Home</span>
                    </a>
                    </div>
                    <div class="sidebar-item tooltip">
                        <a href="/metrics" class="sidebar-link">
                            <svg>
                                <path d="M15 28.3333H11.6667V16.6667H15V28.3333ZM21.6667 28.3333H18.3333V11.6667H21.6667V28.3333ZM28.3333 28.3333H25V21.6667H28.3333V28.3333ZM31.6667 31.6667H8.33333V8.33333H31.6667V31.8333M31.6667 5H8.33333C6.5 5 5 6.5 5 8.33333V31.6667C5 33.5 6.5 35 8.33333 35H31.6667C33.5 35 35 33.5 35 31.6667V8.33333C35 6.5 33.5 5 31.6667 5Z"/>
                            </svg>
                            <span class="tooltiptext">Metrics</span>
                        </a>
                    </div>
                    <div class="sidebar-item tooltip">
                        <a href="/settings" class="sidebar-link">
                            <svg>
                                <path d="M15.4167 36.6668L14.75 31.3335C14.3889 31.1946 14.0489 31.0279 13.73 30.8335C13.4111 30.6391 13.0983 30.4307 12.7917 30.2085L7.83333 32.2918L3.25 24.3752L7.54167 21.1252C7.51389 20.9307 7.5 20.7435 7.5 20.5635V19.4385C7.5 19.2574 7.51389 19.0696 7.54167 18.8752L3.25 15.6252L7.83333 7.7085L12.7917 9.79183C13.0972 9.56961 13.4167 9.36127 13.75 9.16683C14.0833 8.97238 14.4167 8.80572 14.75 8.66683L15.4167 3.3335H24.5833L25.25 8.66683C25.6111 8.80572 25.9517 8.97238 26.2717 9.16683C26.5917 9.36127 26.9039 9.56961 27.2083 9.79183L32.1667 7.7085L36.75 15.6252L32.4583 18.8752C32.4861 19.0696 32.5 19.2574 32.5 19.4385V20.5618C32.5 20.7429 32.4722 20.9307 32.4167 21.1252L36.7083 24.3752L32.125 32.2918L27.2083 30.2085C26.9028 30.4307 26.5833 30.6391 26.25 30.8335C25.9167 31.0279 25.5833 31.1946 25.25 31.3335L24.5833 36.6668H15.4167ZM18.3333 33.3335H21.625L22.2083 28.9168C23.0694 28.6946 23.8683 28.3685 24.605 27.9385C25.3417 27.5085 26.015 26.9874 26.625 26.3752L30.75 28.0835L32.375 25.2502L28.7917 22.5418C28.9306 22.1529 29.0278 21.7435 29.0833 21.3135C29.1389 20.8835 29.1667 20.4457 29.1667 20.0002C29.1667 19.5546 29.1389 19.1174 29.0833 18.6885C29.0278 18.2596 28.9306 17.8496 28.7917 17.4585L32.375 14.7502L30.75 11.9168L26.625 13.6668C26.0139 13.0279 25.3406 12.4935 24.605 12.0635C23.8694 11.6335 23.0706 11.3068 22.2083 11.0835L21.6667 6.66683H18.375L17.7917 11.0835C16.9306 11.3057 16.1322 11.6324 15.3967 12.0635C14.6611 12.4946 13.9872 13.0152 13.375 13.6252L9.25 11.9168L7.625 14.7502L11.2083 17.4168C11.0694 17.8335 10.9722 18.2502 10.9167 18.6668C10.8611 19.0835 10.8333 19.5279 10.8333 20.0002C10.8333 20.4446 10.8611 20.8752 10.9167 21.2918C10.9722 21.7085 11.0694 22.1252 11.2083 22.5418L7.625 25.2502L9.25 28.0835L13.375 26.3335C13.9861 26.9724 14.66 27.5074 15.3967 27.9385C16.1333 28.3696 16.9317 28.6957 17.7917 28.9168L18.3333 33.3335ZM20.0833 25.8335C21.6944 25.8335 23.0694 25.2641 24.2083 24.1252C25.3472 22.9863 25.9167 21.6113 25.9167 20.0002C25.9167 18.3891 25.3472 17.0141 24.2083 15.8752C23.0694 14.7363 21.6944 14.1668 20.0833 14.1668C18.4444 14.1668 17.0622 14.7363 15.9367 15.8752C14.8111 17.0141 14.2489 18.3891 14.25 20.0002C14.2511 21.6113 14.8139 22.9863 15.9383 24.1252C17.0628 25.2641 18.4444 25.8335 20.0833 25.8335Z"/>
                            </svg>
                            <span class="tooltiptext">Settings</span>
                        </a>
                    </div>
                    <hr>
                    <div class="sidebar-item tooltip">
                        <a href="#" id="account-modal" class="sidebar-link">
                            <svg>
                                <path d="M19.9996 3.3335C22.1884 3.33349 24.3556 3.76457 26.3777 4.60215C28.3998 5.43972 30.2371 6.66737 31.7848 8.21501C33.3324 9.76266 34.5601 11.6 35.3977 13.6221C36.2353 15.6442 36.6664 17.8114 36.6664 20.0001C36.6664 29.2049 29.2044 36.6669 19.9996 36.6669C10.795 36.6669 3.33301 29.2049 3.33301 20.0001C3.33301 10.7954 10.795 3.3335 19.9996 3.3335ZM21.6664 21.6669H18.333C14.2068 21.6669 10.6644 24.1658 9.13652 27.7331C11.554 31.123 15.5187 33.3335 19.9996 33.3335C24.4806 33.3335 28.4453 31.123 30.8629 27.7329C29.335 24.1658 25.7925 21.6669 21.6664 21.6669ZM19.9996 8.3335C17.2382 8.3335 14.9996 10.5721 14.9996 13.3335C14.9996 16.0949 17.2382 18.3335 19.9996 18.3335C22.7611 18.3335 24.9996 16.0949 24.9996 13.3335C24.9996 10.5721 22.7611 8.3335 19.9996 8.3335Z"/>
                            </svg>
                        </a>
                        <div class="tooltiptext" id="account-tooltip">
                            <h2>Hello,</h2>
                            <span class="email"></span>
                            <hr>
                            <button id="signout">Sign out</button>
                        </div>
                    </div>
                </div>
                <div class="sidebar-item transparent" id="adminRedirect">
                    <img src="media/flowtimer-icon.svg" alt="Flowtimer">
                </div>
            </div>
        </aside>
        <main class="align">
            <div class="card-dropdown mt-10">
                <select id="timerselector">
                        <option value="timer-flowmodoro">Flowmodoro Timer</option>
                        <option value="timer-pomodoro">Pomodoro Timer</option>
                        <option value="timer-countdown">Countdown Timer</option>
                </select>
            </div>
            <div class="card center align">
                <div class="card-content center align">
                    <div id="timer"></div>
                    <div class="timerbuttons">
                        <div class="timerbutton-wrapper">
                            <button id="restart-btn"><img src="media/restart-button.svg"></button>
                            <div class="overlay-tooltip"><span>Restart Timer</span></div>
                        </div>
                        <div class="timerbutton-wrapper">
                            <button id="play-btn"><img src="media/play-button.svg"></button>
                            <div class="overlay-tooltip"><span>Start / Stop Timer</span></div>
                        </div>
                        <div class="timerbutton-wrapper">
                            <button id="finish-btn"><img src="media/finish-button.svg"></button>
                            <div class="overlay-tooltip"><span>Finish Timer</span></div>
                        </div>
                    </div>
                    <div class="taskselector">
                        <input type="text" id="task-input" placeholder="Add a new task">
                        <button id="add-task"><span>+</span></button>
                    </div>
                </div>
            </div>
            <div class="container-tasks mt-10">
                <div class="task-header">
                    <span>Tasks</span>
                </div>
                <ul class="taskpop-wrapper" id="task-list">
                </ul>
            </div>
            <div id="guide-popup" class="hidden">
                <button id="closehelpguide">X</button>
                <div class="guidearea">
                    <h2>Welcome to Flowtimer!</h2>
                    <hr>
                    <p>This guide will only consist of explanations that are not completely covered by the popups.</p>
                    <br>
                    <h3>Start by adding a new task:</h3>
                    <hr>
                    <p>1. Type in a task in the input field.</p>
                    <p>2. Press enter or click the add button.</p>
                    <p>3. It will then show up in the tasks list.</p>
                    <br>
                    <h3>Working with tasks:</h3>
                    <hr>
                    <p>1. Clicking the play button on a task makes it an active task.</p>
                    <p>2. There can only be one active task at a time. The active task will then update your working time on the task accordingly.</p>
                    <p>3. Clicking on the task's finish button will remove it and update the amount of sessions in the metrics page.</p>
                    <br>
                    <h3>Timer Types:</h3>
                    <hr>
                    <p>1. Flowmodoro tasks count upward. You can technically finish them whenever, but your break time is based on your work-break ratio. That means if your ratio is 5, and you worked for 10 minutes, your break time will be 2 minutes.</p>
                    <p>2. The Pomodoro timer is the only timer type that has a session modal.</p>
                    <br>
                    <h3>Metrics:</h3>
                    <hr>
                    <p>1. Total Time Worked and Longest Focus Time is only calculated when a timer finishes naturally or if you press the finish button.</p>
                    <p>2. Amount of sessions are based on work sessions. Breaks are not included.</p>
                    <p>3. The four stats in the metrics page are lifetime stats. It does not currently dynamically change based on the breakdown selected.</p>
                    <p>4. Resetting data will clear your lifetime stats as well as graph data.</p>
                    <br>
                    <h3>Settings:</h3>
                    <hr>
                    <p>1. Themes change the background image, icon colors, tab colors, button colors, and hover colors. They are not able to change the timer colors.</p>
                    <p>2. Resetting to default settings only targets timer settings, not themes.</p>
                </div>
                <div class="darkerscreen"></div>
            </div>
            <div id="current-status">
                <p>Current Status: <span id="status-text">Working</b></p>
            </div>
            <button id="helpguide-btn">Help / Guide</button>
        </main>

        <!-- ============================== templates for javascript ============================== -->
        <template id="task-template">
            <li class="task-item">
                <div class="direction-row">
                    <input class="task-text"></input>
                    <div class="flex justify-center items-center gap-3">
                        <button class="tracktask"><span>▶</span></button>
                        <button class="finishtask"><span>✓</span></button>
                    </div>
                </div>
                <div>
                    <span class="listtimetrack">0h 0m 0s</span>
                </div>
            </li>
        </template>
        <template id="timer-toast-template">
            <div id="timer-toast">
                <p>Please click the restart button to use the timer again.</p>
            </div>
        </template>
        <template id="session-finish-popup">
            <div id=session-finish-popup-content>
                <p>Session finished!</p>
            </div>
        </template>
        <template id="break-finish-popup">
            <div id="break-finish-popup-content">
                <p>Break time is over!</p>
            </div>
        </template>
        <template id="start-timer-popup">
            <div id="start-timer-popup-content">
                <p>Start tracking by clicking play on a task in the list!</p>
            </div>
        </template>
        <template id="break-finish-warning">
            <div id="break-finish-warning-content">
                <p>You cannot finish a break at this current stage. Please refresh the page if you want to reset instead.</p>
            </div>
        </template>
        <template id="session-finish-template">
            <div class="modal-overlay">
                <div class="modal-box">
                    <p class="modal-text">Session <span>1</span> is over!</p>
                    <button id="start-break-btn" class="border border-solid border-black/10 rounded-2xl hover:bg-black/10">Start Break</button>
                    <button id="skip-break-btn" class="border border-solid border-black/10 rounded-2xl hover:bg-black/10">Skip Break</button>
                </div>
            </div>
        </template>
        <script src="https://cdn.jsdelivr.net/npm/progressbar.js/dist/progressbar.min.js"></script>
        <script src="js/main.js" type="module"></script>
    </body>
    <div id="loadingscreen">
        <div class="loading"></div>
    </div>
</html>